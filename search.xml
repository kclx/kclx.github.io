<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>关于ChatGPT的tokens收费标准</title>
      <link href="/2023/07/07/About-GPT-Token/"/>
      <url>/2023/07/07/About-GPT-Token/</url>
      
        <content type="html"><![CDATA[<h1 id="关于ChatGPT的tokens收费标准"><a href="#关于ChatGPT的tokens收费标准" class="headerlink" title="关于ChatGPT的tokens收费标准"></a>关于ChatGPT的tokens收费标准</h1><p>根据OpenAI官网给出的<a href="https://openai.com/pricing">计费标准</a></p><p>总结了以下表格：</p><table><thead><tr><th>模型</th><th>最大长度</th><th>输入（&#x2F;1k tokens）</th><th>输出（1k tokens）</th><th>使用价格</th><th>类型</th></tr></thead><tbody><tr><td>GPT-4</td><td>8K</td><td>$0.03</td><td>$0.06</td><td></td><td>语言模型</td></tr><tr><td>GPT-4</td><td>32K</td><td>$0.06</td><td>$0.12</td><td></td><td>语言模型</td></tr><tr><td>GPT-3.5 Turbo</td><td>4K</td><td>$0.0015</td><td>$0.002</td><td></td><td>语言模型</td></tr><tr><td>GPT-3.5 Turbo</td><td>16K</td><td>$0.003</td><td>$0.004</td><td></td><td>语言模型</td></tr><tr><td>Ada</td><td></td><td>$0.0004</td><td>$0.0016</td><td></td><td>微调模型</td></tr><tr><td>Babbage</td><td></td><td>$0.0006</td><td>$0.0024</td><td></td><td>微调模型</td></tr><tr><td>Curie</td><td></td><td>$0.0030</td><td>$0.012</td><td></td><td>微调模型</td></tr><tr><td>Davinci</td><td></td><td>$0.0300</td><td>$0.12</td><td></td><td>微调模型</td></tr><tr><td>Ada v2</td><td>Ada v2</td><td></td><td></td><td>$0.0001&#x2F;1K tokens</td><td>嵌入模型</td></tr><tr><td>Image models</td><td>1024×1024</td><td></td><td></td><td>$0.020&#x2F;image</td><td>图像模型</td></tr><tr><td>Image models</td><td>512×512</td><td></td><td></td><td>$0.018&#x2F;image</td><td>图像模型</td></tr><tr><td>Image models</td><td>256×256</td><td></td><td></td><td>$0.016&#x2F;image</td><td>图像模型</td></tr><tr><td>Whisper</td><td></td><td></td><td></td><td>$0.006&#x2F;min</td><td>音频模型</td></tr></tbody></table><blockquote><p>事实上，OpenAI推出的模型不只这些，通过api可以得到最完整的模型列表。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl https://api.openai.com/v1/models \</span><br><span class="line">-H &quot;Authorization: Bearer $OPENAI_API_KEY&quot;</span><br></pre></td></tr></table></figure><p>如果没有key或者不想发送请求可以直接获取下面的json数据都是一样的</p><p>截止2023年7月7日全部模型的json数据：</p><div class="link-group"><div class="tagLink"><a class="link-card" no-pjax target="_blank" title="openai_models.json" href="/citation/openai_models.json"><span class="link-card-backdrop" style="background-image: url(https://cdn.pixabay.com/photo/2018/12/05/13/41/panda-3857754__340.jpg)"></span><div class="left"><img src="https://img.51miz.com/Element/00/37/79/59/10df0417_E377959_b7bb9dfa.png" class="lazyload placeholder" data-srcset="https://img.51miz.com/Element/00/37/79/59/10df0417_E377959_b7bb9dfa.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp"/></div><div class="right"><p class="text">openai_models.json</p><p class="url">/citation/openai_models.json</p></div></a></div></div></blockquote><h2 id="Tokens"><a href="#Tokens" class="headerlink" title="Tokens"></a>Tokens</h2><p>上述内容中多次提到了tokens的概念，什么是tokens？</p><blockquote><p>您可以将标记视为用于自然语言处理的单词片段。对于英文文本，1 个标记大约为 4 个字符或 0.75 个单词。作为参考，莎士比亚的作品集大约有<br>90 万字或 120 万个符号。</p><p><code>1000</code>tokens约等于<code>750</code>个单词</p><p>要了解有关代币如何工作并估计您的使用情况的更多信息……</p><ul><li>使用我们的交互式 <a href="https://platform.openai.com/tokenizer">分词器工具</a>进行实验。</li><li>登录您的帐户并在 Playground 中输入文本。页脚中的计数器将显示文本中有多少个标记。</li></ul></blockquote><p>根据OpenAI官方给出的回答还是无法有一个具体的掌握。</p><p>转换为中文，tokens的大小为多少？</p><p>使用gpt-3.5-turbo-0301为例：</p><table><thead><tr><th>Request content</th><th>Response content</th><th>input tokens</th><th>output tokens</th><th>total</th></tr></thead><tbody><tr><td>Say this is a test!</td><td>This is a test!</td><td>13</td><td>5</td><td>18</td></tr><tr><td>请形容一下小猫</td><td>小猫是一种可爱的小动物，通常体型娇小，毛发柔软。它们的眼睛大而明亮，透露出一种天真无邪的神采。小猫的耳朵尖尖，灵敏而警觉，时刻捕捉着周围的声音。它们的小鼻子粉嫩可爱，鼻尖微微动着，好奇地探索着周围的世界。小猫的爪子尖锐而灵活，能够轻松攀爬和抓捕猎物。它们的尾巴修长而灵动，时而垂下，时而竖起，表达出各种情绪。小猫的身体柔软而灵活，它们经常会摆出各种可爱的姿势，让人看了心情愉悦。总之，小猫是一种令人陶醉的可爱生物，它们的存在让人感到温暖和幸福。</td><td>16</td><td>319</td><td>335</td></tr><tr><td>请翻译：This technical report presents GPT-4, a large multimodal model capable of processing image and text inputs and producing text outputs. Such models are an important area of study as they have the potential to be used in a wide range of applications, such as dialogue systems, text summarization, and machine translation. As such, they have been the subject of substantial interest and progress in recent years.</td><td>这份技术报告介绍了GPT-4，一个能够处理图像和文本输入并生成文本输出的大型多模态模型。这样的模型是研究的重要领域，因为它们有潜力在各种应用中使用，如对话系统、文本摘要和机器翻译。因此，近年来它们受到了广泛关注和进展的研究对象。</td><td>93</td><td>127</td><td>220</td></tr></tbody></table><p>经过计算得出，1字约等于1token，英文状态4个字符约等于1token。</p><blockquote><p>假设：我现在有一篇论文要写，需求（input content）输入了100字，需要生成一篇5000字的论文（output<br>content），算上中间的润色和修改（约等于重复3遍），那么可以计算写一篇论文大约会消耗tokens &#x3D; ((100 + 5000) * 5) &#x3D; 25500</p><p>使用GPT-3.5，费用为 0.03825美元 约等于 0.277人民币，<br>如果内容总长度超过4096k，那么价格会翻一倍，费用为 0.0765美元 约等于 0.5534人民币（汇率为1美元兑7.2337人民币）</p><p>使用GPT-4，费用为 0.765美元 约等于 5.534人民币</p><p>当然这只是猜测。</p></blockquote><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>使用gpt-3.5-turbo-16k与gpt-3.5-turbo-4k（并未写完一篇论文）：：</p><div class="link-group"><div class="tagLink"><a class="link-card" no-pjax target="_blank" title="gpt-3.5-turbo-16k.html" href="/citation/gpt-3.5-turbo-16k.html"><span class="link-card-backdrop" style="background-image: url(https://cdn.pixabay.com/photo/2018/12/05/13/41/panda-3857754__340.jpg)"></span><div class="left"><img src="https://img.51miz.com/Element/00/37/79/59/10df0417_E377959_b7bb9dfa.png" class="lazyload placeholder" data-srcset="https://img.51miz.com/Element/00/37/79/59/10df0417_E377959_b7bb9dfa.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp"/></div><div class="right"><p class="text">gpt-3.5-turbo-16k.html</p><p class="url">/citation/gpt-3.5-turbo-16k.html</p></div></a></div><div class="tagLink"><a class="link-card" no-pjax target="_blank" title="gpt-3.5-turbo-4k.html" href="/citation/gpt-3.5-turbo-4k.html"><span class="link-card-backdrop" style="background-image: url(https://cdn.pixabay.com/photo/2018/12/05/13/41/panda-3857754__340.jpg)"></span><div class="left"><img src="https://img.51miz.com/Element/00/37/79/59/10df0417_E377959_b7bb9dfa.png" class="lazyload placeholder" data-srcset="https://img.51miz.com/Element/00/37/79/59/10df0417_E377959_b7bb9dfa.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp"/></div><div class="right"><p class="text">gpt-3.5-turbo-4k.html</p><p class="url">/citation/gpt-3.5-turbo-4k.html</p></div></a></div></div><p>整理好的论文（字数：7479）：</p><div class="link-group"><div class="tagLink"><a class="link-card" no-pjax target="_blank" title="习近平新时代.pdf" href="/citation/习近平新时代.pdf"><span class="link-card-backdrop" style="background-image: url(https://cdn.pixabay.com/photo/2018/12/05/13/41/panda-3857754__340.jpg)"></span><div class="left"><img src="https://img.51miz.com/Element/00/37/79/59/10df0417_E377959_b7bb9dfa.png" class="lazyload placeholder" data-srcset="https://img.51miz.com/Element/00/37/79/59/10df0417_E377959_b7bb9dfa.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp"/></div><div class="right"><p class="text">习近平新时代.pdf</p><p class="url">/citation/习近平新时代.pdf</p></div></a></div></div><p>根据最后的返回<code>Total tokens spent: 52087</code>可以得出本次论文一共花费了<code>52087/1000*0.003*7.2337=1.1303451957¥</code>花费1.13人民币。</p><h2 id="总结与思考"><a href="#总结与思考" class="headerlink" title="总结与思考"></a>总结与思考</h2><p>为什么会与预测的花费不一致？</p><ol><li>示例中生成的文章为7000+</li><li>采用的是gpt对话的形式，也就是说每一次对话都需要把本次对话中的上文全部当作前置传入，这样就增加了tokens的消耗</li><li>输入与输出的tokens的价格并不相等，输出的tokens更贵一些</li></ol>]]></content>
      
      
      <categories>
          
          <category> Pointless small talk </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gpt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>期末复习-数据库原理</title>
      <link href="/2023/07/06/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86/"/>
      <url>/2023/07/06/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h2 id="相关"><a href="#相关" class="headerlink" title="相关"></a>相关</h2><p>具体考些什么我也不太记得，有关系代数、sql语言、E-R图，其余的不太清楚了。</p><h2 id="关系代数"><a href="#关系代数" class="headerlink" title="关系代数"></a>关系代数</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p>关系代数是一种数学工具和查询语言，用于处理和操作关系型数据库中的关系数据。它提供了一组操作符，用于对关系进行操作和组合，以获取所需的数据结果。</p><p>关系代数的基本操作符包括：</p><ol><li>选择（Selection）：根据指定的条件从关系中选择满足条件的元组。</li><li>投影（Projection）：从关系中选择指定的属性列，生成一个新的关系。</li><li>连接（Join）：将两个关系根据共享的属性列合并成一个新的关系。</li><li>交（Intersection）：获取两个关系的交集，即共有的元组。</li><li>并（Union）：获取两个关系的并集，即合并两个关系的元组，去除重复项。</li><li>差（Difference）：获取一个关系中有而另一个关系中没有的元组。</li><li>除（Division）：根据指定条件从一个关系中选择满足条件的元组，然后从另一个关系中选择与前一步结果关系中的所有元组匹配的元组。</li></ol><p>通过组合和嵌套这些基本操作符，可以进行更复杂的查询和操作，从而实现对关系数据库中的数据的有效管理和检索。关系代数是关系数据库理论的基础之一，它提供了一种形式化的方式来描述和操作关系数据库中的数据。</p><p>以下是关系代数基本操作的常用符号表示：</p><ol><li><p>选择（Selection）：用σ（sigma）符号表示。例如，σ&lt;条件&gt;(关系) 表示选择满足指定条件的元组。</p></li><li><p>投影（Projection）：用π（pi）符号表示。例如，π&lt;属性列表&gt;(关系) 表示从关系中选择指定的属性列。</p></li><li><p>连接（Join）：用⨝（join）符号表示。例如，关系1 ⨝ 关系2 表示根据共享的属性列将两个关系进行连接。</p></li><li><p>交（Intersection）：用∩（intersection）符号表示。例如，关系1 ∩ 关系2 表示获取两个关系的交集，即共有的元组。</p></li><li><p>并（Union）：用∪（union）符号表示。例如，关系1 ∪ 关系2 表示获取两个关系的并集，即合并两个关系的元组，去除重复项。</p></li><li><p>差（Difference）：用-（minus）符号表示。例如，关系1 - 关系2 表示获取一个关系中有而另一个关系中没有的元组。</p></li><li><p>除（Division）：用÷（division）符号表示。例如，关系1 ÷ 关系2 表示根据指定条件从一个关系中选择满足条件的元组，然后从另一个关系中选择与前一步结果关系中的所有元组匹配的元组。</p></li></ol><p>这些符号表示了关系代数中的基本操作，可以根据需要进行组合和嵌套，以实现更复杂的查询和操作。</p><h3 id="训练场"><a href="#训练场" class="headerlink" title="训练场"></a>训练场</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Emp(E#,Ename,Age,Salary,D#);</span><br><span class="line">Depa(D#,Dname,Mgr#);</span><br></pre></td></tr></table></figure><ol><li><p>检索每个部门经理的工资（显示部门编号，部门名称，经理编号，经理姓名，经理工资）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">π D#, Dname, Mgr#, Ename, Salary (σ Emp.E# = Depa.Mgr# ∧ Emp.D# = Depa.D# (Emp ∞ Depa))</span><br></pre></td></tr></table></figure></li><li><p>检索部门名称为“销售科”的职工工号，姓名，工资：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">π E#, Ename, Salary (σ Dname = &quot;销售科&quot; (Emp ∞ Depa))</span><br></pre></td></tr></table></figure></li><li><p>已知一关系数据库的模式如下：<br>供应商关系：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">S(Sno,Sname,City);</span><br></pre></td></tr></table></figure><p>零件关系：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">P(Pno,Pname,Color,Weight);</span><br></pre></td></tr></table></figure><p>工程关系：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">J(Jno,Jname,City);</span><br></pre></td></tr></table></figure><p>供货关系：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SPJ(Sno,Pno,Jno,Qty);</span><br></pre></td></tr></table></figure><p>用关系代数完成下列查询：</p><ol><li><p>查询为工程’J1’供货的供应商名：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> Sno <span class="keyword">IN</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> Sno</span><br><span class="line">    <span class="keyword">FROM</span> SPJ</span><br><span class="line">    <span class="keyword">WHERE</span> Jno <span class="operator">=</span> <span class="string">&#x27;J1&#x27;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></li><li><p>查询供应’螺母’零件的供应商名和所在城市：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname, City</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> Sno <span class="keyword">IN</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> Sno</span><br><span class="line">    <span class="keyword">FROM</span> SPJ</span><br><span class="line">    <span class="keyword">WHERE</span> Pno <span class="keyword">IN</span> (</span><br><span class="line">        <span class="keyword">SELECT</span> Pno</span><br><span class="line">        <span class="keyword">FROM</span> P</span><br><span class="line">        <span class="keyword">WHERE</span> Pname <span class="operator">=</span> <span class="string">&#x27;螺母&#x27;</span></span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li><li><p>查询工程’J2’不使用的零件名和颜色：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Pname, Color</span><br><span class="line"><span class="keyword">FROM</span> P</span><br><span class="line"><span class="keyword">WHERE</span> Pno <span class="keyword">NOT</span> <span class="keyword">IN</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> Pno</span><br><span class="line">    <span class="keyword">FROM</span> SPJ</span><br><span class="line">    <span class="keyword">WHERE</span> Jno <span class="operator">=</span> <span class="string">&#x27;J2&#x27;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></li></ol></li></ol><h2 id="SQL语言"><a href="#SQL语言" class="headerlink" title="SQL语言"></a>SQL语言</h2><h3 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h3><p>SQL（Structured Query Language）是一种用于管理关系型数据库系统的编程语言。它是一个标准化的语言，用于存储、检索、操作和管理数据库中的数据。</p><p>SQL提供了一组用于执行各种操作的命令和语句，包括以下主要方面：</p><ol><li><p>数据定义语言（Data Definition Language，DDL）：用于创建、修改和删除数据库对象（例如表、视图、索引等）的语句。DDL语句包括CREATE、ALTER和DROP等。</p></li><li><p>数据操作语言（Data Manipulation Language，DML）：用于操作和处理数据库中的数据的语句。DML语句包括SELECT、INSERT、UPDATE和DELETE等。</p></li><li><p>数据控制语言（Data Control Language，DCL）：用于控制数据库的安全性和访问权限的语句。DCL语句包括GRANT和REVOKE等。</p></li><li><p>数据查询语言（Data Query Language，DQL）：用于从数据库中检索数据的语句。DQL语句主要是SELECT语句，用于查询满足指定条件的数据。</p></li></ol><p>SQL语言的特点包括：</p><ul><li>面向集合：SQL处理数据的基本单位是集合，即表中的行。</li><li>声明式语言：SQL是一种声明式语言，用户只需描述所需的结果，而不需要指定具体的操作步骤。</li><li>高度可扩展：SQL支持在单个查询中使用多个表进行联接，执行复杂的数据操作和聚合运算。</li><li>广泛应用：SQL是关系型数据库系统的标准查询语言，几乎所有主流的关系型数据库管理系统（如MySQL、Oracle、SQL Server等）都支持SQL语言。</li></ul><p>通过SQL语言，用户可以方便地管理和操作数据库中的数据，执行各种查询、更新和管理任务。</p><h3 id="训练场-1"><a href="#训练场-1" class="headerlink" title="训练场"></a>训练场</h3><p>这里存在数据库，结构为</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Student(<span class="keyword">No</span>,name,sex,age,class);</span><br><span class="line">Course(Cno,cname,Tno);</span><br><span class="line">Teacher(Tno,name,sex,prof,dept);</span><br><span class="line">Score(<span class="keyword">No</span>,Cno,Grade);</span><br></pre></td></tr></table></figure><ol><li><p>查询选修课程<code>3-105</code>且成绩在60到80之间的所有记录：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Score</span><br><span class="line"><span class="keyword">WHERE</span> Cno <span class="operator">=</span> <span class="string">&#x27;3-105&#x27;</span> <span class="keyword">AND</span> Grade <span class="keyword">BETWEEN</span> <span class="number">60</span> <span class="keyword">AND</span> <span class="number">80</span>;</span><br></pre></td></tr></table></figure></li><li><p>查询成绩为85,86或88的记录：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Score</span><br><span class="line"><span class="keyword">WHERE</span> Grade <span class="keyword">IN</span> (<span class="number">85</span>, <span class="number">86</span>, <span class="number">88</span>);</span><br></pre></td></tr></table></figure></li><li><p>查询<code>95031</code>班的学生人数：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Class <span class="operator">=</span> <span class="string">&#x27;95031&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li><p>查询至少有5名同学选修的并以3开头的课程的平均成绩：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(Grade)</span><br><span class="line"><span class="keyword">FROM</span> Score</span><br><span class="line"><span class="keyword">WHERE</span> Cno <span class="keyword">LIKE</span> <span class="string">&#x27;3%&#x27;</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Cno</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">&gt;=</span> <span class="number">5</span>;</span><br></pre></td></tr></table></figure></li><li><p>查询最低分大于70，最高分小于90的<code>NO</code>：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">No</span></span><br><span class="line"><span class="keyword">FROM</span> Score</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="keyword">No</span></span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">MIN</span>(Grade) <span class="operator">&gt;</span> <span class="number">70</span> <span class="keyword">AND</span> <span class="built_in">MAX</span>(Grade) <span class="operator">&lt;</span> <span class="number">90</span>;</span><br></pre></td></tr></table></figure></li><li><p>查询<code>95033</code>班学生所选课程的平均分：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(Grade)</span><br><span class="line"><span class="keyword">FROM</span> Score, Student</span><br><span class="line"><span class="keyword">WHERE</span> Score.No <span class="operator">=</span> Student.No <span class="keyword">AND</span> Class <span class="operator">=</span> <span class="string">&#x27;95033&#x27;</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="keyword">No</span>;</span><br></pre></td></tr></table></figure></li><li><p>查询选修<code>3-105</code>课程的成绩高于<code>109</code>号同学成绩的所有同学的记录：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Score</span><br><span class="line"><span class="keyword">WHERE</span> Cno <span class="operator">=</span> <span class="string">&#x27;3-105&#x27;</span> <span class="keyword">AND</span> Grade <span class="operator">&gt;</span> (<span class="keyword">SELECT</span> Grade <span class="keyword">FROM</span> Score <span class="keyword">WHERE</span> Cno <span class="operator">=</span> <span class="string">&#x27;3-105&#x27;</span> <span class="keyword">AND</span> <span class="keyword">No</span> <span class="operator">=</span> <span class="string">&#x27;109&#x27;</span>);</span><br></pre></td></tr></table></figure></li><li><p>查询与学号为<code>108</code>的同学同岁的所有学生的<code>NO</code>, <code>Name</code>, <code>Age</code>：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">No</span>, Name, Age</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Age <span class="operator">=</span> (<span class="keyword">SELECT</span> Age <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> <span class="keyword">No</span> <span class="operator">=</span> <span class="string">&#x27;108&#x27;</span>);</span><br></pre></td></tr></table></figure></li><li><p>查询<code>张旭</code>教师任课的课程号及选修其课程的学生的学号和成绩：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">No</span>, Grade</span><br><span class="line"><span class="keyword">FROM</span> Score</span><br><span class="line"><span class="keyword">WHERE</span> Cno <span class="keyword">IN</span> (<span class="keyword">SELECT</span> Cno <span class="keyword">FROM</span> Course <span class="keyword">WHERE</span> Tno <span class="operator">=</span> (<span class="keyword">SELECT</span> Tno <span class="keyword">FROM</span> Teacher <span class="keyword">WHERE</span> name <span class="operator">=</span> <span class="string">&#x27;张旭&#x27;</span>));</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">No</span>, Grade</span><br><span class="line"><span class="keyword">FROM</span> Score, Teacher, Course</span><br><span class="line"><span class="keyword">WHERE</span> Teacher.Tno <span class="operator">=</span> Course.Tno <span class="keyword">AND</span> Course.Cno <span class="operator">=</span> Score.Cno <span class="keyword">AND</span> Teacher.name <span class="operator">=</span> <span class="string">&#x27;张旭&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li><p>查询选修某课程的学生人数多于30人的教师姓名：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Name</span><br><span class="line"><span class="keyword">FROM</span> Teahcer</span><br><span class="line"><span class="keyword">WHERE</span> Tno <span class="keyword">IN</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> Tno</span><br><span class="line">   <span class="keyword">FROM</span> Course</span><br><span class="line">   <span class="keyword">WHERE</span> Cno <span class="keyword">IN</span> (</span><br><span class="line">       <span class="keyword">SELECT</span> Cno</span><br><span class="line">       <span class="keyword">FROM</span> Score</span><br><span class="line">       <span class="keyword">GROUP</span> <span class="keyword">BY</span> Cno</span><br><span class="line">       <span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="keyword">No</span>) <span class="operator">&gt;</span> <span class="number">30</span></span><br><span class="line">   )</span><br><span class="line">);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Name</span><br><span class="line"><span class="keyword">FROM</span> Techaer, Score, Course</span><br><span class="line"><span class="keyword">WHERE</span> Techaer.Tno <span class="operator">=</span> Course.Tno</span><br><span class="line">   <span class="keyword">AND</span> Course.Cno <span class="operator">=</span> Score.Cno</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Cno</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">&gt;</span> <span class="number">30</span>;</span><br></pre></td></tr></table></figure></li><li><p>查询<code>计算机系</code>与<code>电子工程系</code>不同职称的教师姓名和职称：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name, prof</span><br><span class="line"><span class="keyword">FROM</span> Teacher</span><br><span class="line"><span class="keyword">WHERE</span> Dept <span class="operator">=</span> <span class="string">&#x27;电子工程系&#x27;</span> <span class="keyword">AND</span> Prof <span class="keyword">NOT</span> <span class="keyword">IN</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> Prof</span><br><span class="line">   <span class="keyword">FROM</span> Teacher</span><br><span class="line">   <span class="keyword">WHERE</span> Dept <span class="operator">=</span> <span class="string">&#x27;计算机系&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure></li><li><p>查询选修编号为<code>3-105</code>课程且成绩至少高于选修编号为<code>3-234</code>课程的同学的课号、学号、成绩，并按成绩降序排列：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">No</span>, grade</span><br><span class="line"><span class="keyword">FROM</span> Score</span><br><span class="line"><span class="keyword">WHERE</span> Cno <span class="operator">=</span> <span class="string">&#x27;3-105&#x27;</span> <span class="keyword">AND</span> Grade <span class="operator">&gt;</span> <span class="keyword">ANY</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> grade</span><br><span class="line">   <span class="keyword">FROM</span> Score</span><br><span class="line">   <span class="keyword">WHERE</span> Cno <span class="operator">=</span> <span class="string">&#x27;3-234&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> grade <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure></li><li><p>查询选修编号为<code>3-105</code>课程且成绩高于选修编号为<code>3-234</code>课程的同学的课号、学号、成绩，并按成绩降序排列：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">No</span>, grade</span><br><span class="line"><span class="keyword">FROM</span> Score</span><br><span class="line"><span class="keyword">WHERE</span> Cno <span class="operator">=</span> <span class="string">&#x27;3-105&#x27;</span> <span class="keyword">AND</span> Grade <span class="operator">&gt;</span> <span class="keyword">ALL</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> grade</span><br><span class="line">   <span class="keyword">FROM</span> Score</span><br><span class="line">   <span class="keyword">WHERE</span> Cno <span class="operator">=</span> <span class="string">&#x27;3-234&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> grade <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure></li><li><p>列出所有老师和同学的姓名、性别和年龄：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Name, Sex, Age</span><br><span class="line"><span class="keyword">FROM</span> teacher</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> Name, Sex, Age</span><br><span class="line"><span class="keyword">FROM</span> student;</span><br></pre></td></tr></table></figure></li><li><p>查询成绩比该课平均成绩低的学生的成绩表：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">No</span>, Grade</span><br><span class="line"><span class="keyword">FROM</span> Score</span><br><span class="line"><span class="keyword">WHERE</span> Grade <span class="operator">&lt;</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> <span class="built_in">AVG</span>(Grade)</span><br><span class="line">   <span class="keyword">FROM</span> Score <span class="keyword">AS</span> y</span><br><span class="line">   <span class="keyword">WHERE</span> Score.Cno <span class="operator">=</span> y.Cno</span><br><span class="line">   <span class="keyword">GROUP</span> <span class="keyword">BY</span> Cno</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li><li><p>列出所有任课教师的Name和Dept：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Name, Dept</span><br><span class="line"><span class="keyword">FROM</span> Teacher</span><br><span class="line"><span class="keyword">WHERE</span> Tno <span class="keyword">IN</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> Tno</span><br><span class="line">   <span class="keyword">FROM</span> Course</span><br><span class="line">);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Name, Dept</span><br><span class="line"><span class="keyword">FROM</span> Teahcer <span class="keyword">AS</span> A</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">EXISTS</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">   <span class="keyword">FROM</span> Course <span class="keyword">AS</span> B</span><br><span class="line">   <span class="keyword">WHERE</span> A.Tno <span class="operator">=</span> B.Tno</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li><li><p>列出所有未讲课教师的Name和Dept：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Name, Dept</span><br><span class="line"><span class="keyword">FROM</span> Teacher</span><br><span class="line"><span class="keyword">WHERE</span> Tno <span class="keyword">NOT</span> <span class="keyword">IN</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> Tno</span><br><span class="line">   <span class="keyword">FROM</span> Course</span><br><span class="line">);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Name, Dept</span><br><span class="line"><span class="keyword">FROM</span> Teahcer <span class="keyword">AS</span> A</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">   <span class="keyword">FROM</span> Course <span class="keyword">AS</span> B</span><br><span class="line">   <span class="keyword">WHERE</span> A.Tno <span class="operator">=</span> B.Tno</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li><li><p>列出至少有2名男生的班级编号：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Class</span><br><span class="line"><span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> sex <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Class</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">&gt;=</span> <span class="number">2</span>;</span><br></pre></td></tr></table></figure></li><li><p>查询不姓<code>王</code>的学生记录：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> Name <span class="keyword">NOT</span> <span class="keyword">LIKE</span> <span class="string">&#x27;王%&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li><p>查询每门课最高分的同学的No, Cno, Grade：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">No</span>, Cno, Grade</span><br><span class="line"><span class="keyword">FROM</span> Score A</span><br><span class="line"><span class="keyword">WHERE</span> Grade <span class="operator">=</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> <span class="built_in">MAX</span>(Grade)</span><br><span class="line">   <span class="keyword">FROM</span> Score B</span><br><span class="line">   <span class="keyword">WHERE</span> A.Cno <span class="operator">=</span> B.Cno</span><br><span class="line">);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">No</span>, Cno, Grade</span><br><span class="line"><span class="keyword">FROM</span> Score A</span><br><span class="line"><span class="keyword">WHERE</span> A.Cno <span class="operator">=</span> B.Cno <span class="keyword">AND</span> Grade <span class="operator">=</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> <span class="built_in">MAX</span>(Grade)</span><br><span class="line">   <span class="keyword">FROM</span> Score B</span><br><span class="line">   <span class="keyword">GROUP</span> <span class="keyword">BY</span> Cno</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li><li><p>查询与“李军”同性别并同班的同学姓名：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Name</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Class <span class="operator">=</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> Class</span><br><span class="line">   <span class="keyword">FROM</span> Student</span><br><span class="line">   <span class="keyword">WHERE</span> Name <span class="operator">=</span> <span class="string">&#x27;李军&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">AND</span> sex <span class="operator">=</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> sex</span><br><span class="line">   <span class="keyword">FROM</span> Student</span><br><span class="line">   <span class="keyword">WHERE</span> Name <span class="operator">=</span> <span class="string">&#x27;李军&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure></li><li><p>查询<code>男</code>教师及其所任的课程：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> A.Name, B.Cname</span><br><span class="line"><span class="keyword">FROM</span> Teacher A, Course B</span><br><span class="line"><span class="keyword">WHERE</span> A.Tno <span class="operator">=</span> B.Tno <span class="keyword">AND</span> A.sex <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li><p>查询选修<code>计算机导论</code>课程的<code>男</code>同学的成绩表：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">No</span>, Cno, Grade</span><br><span class="line"><span class="keyword">FROM</span> Score</span><br><span class="line"><span class="keyword">WHERE</span> Cno <span class="keyword">IN</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> Cno</span><br><span class="line">   <span class="keyword">FROM</span> Course</span><br><span class="line">   <span class="keyword">WHERE</span> Cname <span class="operator">=</span> <span class="string">&#x27;计算机导论&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">AND</span> <span class="keyword">No</span> <span class="keyword">IN</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> <span class="keyword">No</span></span><br><span class="line">   <span class="keyword">FROM</span> Student</span><br><span class="line">   <span class="keyword">WHERE</span> Sex <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">No</span>, Cno, Grade</span><br><span class="line"><span class="keyword">FROM</span> Score A, Student B, Course C</span><br><span class="line"><span class="keyword">WHERE</span> A.No <span class="operator">=</span> B.No</span><br><span class="line"><span class="keyword">AND</span> A.Cno <span class="operator">=</span> C.Cno</span><br><span class="line"><span class="keyword">AND</span> C.Cname <span class="operator">=</span> <span class="string">&#x27;计算机导论&#x27;</span></span><br><span class="line"><span class="keyword">AND</span> B.Sex <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li><p>在数据库中要求每个经理的工资大于2000元。试在Depa表的定义时，加一个Check子句，以满足上述要求。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Depa ADD CHECK (Mgr# IN (SELECT E# FROM Emp WHERE Salary &gt; 2000))</span><br></pre></td></tr></table></figure></li><li><p>更新Depa表，将经理编号（Mgr#）设置为null，满足条件：Depa表中的Mgr#等于Emp表中的E#，并且Emp表中的Age大于50。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE Depa SET Mgr# = NULL WHERE Mgr# IN (SELECT E# FROM Emp WHERE Age &gt; 50)</span><br></pre></td></tr></table></figure></li><li><p>创建一个年龄大于50岁的职工视图（D#, Dname, E#, Ename, Age, Salary）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW wyy AS</span><br><span class="line">SELECT D#, Dname, E#, Ename, Age, Salary</span><br><span class="line">FROM Emp, Depa</span><br><span class="line">WHERE Emp.E# = Depa.Mgr# AND Emp.Age &gt; 50;</span><br></pre></td></tr></table></figure></li><li><p>用Create table 命令定义Depa表（需要定义主键和外键）</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Create</span> <span class="keyword">table</span> Depa (</span><br><span class="line">    D# <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">primary</span> key,</span><br><span class="line">    Dname <span class="type">char</span>(<span class="number">8</span>),</span><br><span class="line">    Mgr# <span class="type">char</span>(<span class="number">15</span>),</span><br><span class="line">    <span class="keyword">Foreign</span> key (Mgr#) <span class="keyword">references</span> Emp(E#)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li><li><p>查询每个部门的职工人数和平均工资，要求显示（部门号，部门名称，职工人数，平均工资）：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> D#, Dname, <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">as</span> 职工人数, <span class="built_in">AVG</span>(Salary) <span class="keyword">as</span> 平均工资</span><br><span class="line"><span class="keyword">FROM</span> Depa, Emp</span><br><span class="line"><span class="keyword">WHERE</span> Depa.D# <span class="operator">=</span> Emp.D#</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> D#</span><br></pre></td></tr></table></figure></li><li><p>在Depa表中删除人数少于10人的部门元组</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> Depa</span><br><span class="line"><span class="keyword">WHERE</span> D# <span class="keyword">IN</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> D#</span><br><span class="line">    <span class="keyword">FROM</span> Emp</span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> D#</span><br><span class="line">    <span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">&lt;</span> <span class="number">10</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></li></ol><div class="note warning"><p>对于上述关系代数与SQL的示例可能存在不合理的部分，请跟据实际情况修改，毕竟，只有生产环境才是有真正明确需求的与真实的环境。</p></div><h3 id="万用模版"><a href="#万用模版" class="headerlink" title="万用模版"></a>万用模版</h3><ul><li><p>查询模版</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> [列名]</span><br><span class="line"><span class="keyword">FROM</span> [表名]</span><br><span class="line">[<span class="keyword">JOIN</span> 子句]</span><br><span class="line"><span class="keyword">WHERE</span> [条件]</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> [列名]</span><br><span class="line"><span class="keyword">HAVING</span> [条件]</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> [列名] [<span class="keyword">ASC</span><span class="operator">|</span><span class="keyword">DESC</span>]</span><br><span class="line">LIMIT [数量];</span><br></pre></td></tr></table></figure></li><li><p>插入模版</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> [表名] ([列<span class="number">1</span>], [列<span class="number">2</span>], ...)</span><br><span class="line"><span class="keyword">VALUES</span> ([值<span class="number">1</span>], [值<span class="number">2</span>], ...);</span><br></pre></td></tr></table></figure></li><li><p>修改模版</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> [表名]</span><br><span class="line"><span class="keyword">SET</span> [列<span class="number">1</span>] <span class="operator">=</span> [新值<span class="number">1</span>], [列<span class="number">2</span>] <span class="operator">=</span> [新值<span class="number">2</span>], ...</span><br><span class="line"><span class="keyword">WHERE</span> [条件];</span><br></pre></td></tr></table></figure></li><li><p>删除模版</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> [表名]</span><br><span class="line"><span class="keyword">WHERE</span> [条件];</span><br></pre></td></tr></table></figure></li><li><p>定义视图模版</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> [视图名] <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> [列<span class="number">1</span>], [列<span class="number">2</span>], ...</span><br><span class="line"><span class="keyword">FROM</span> [表名]</span><br><span class="line"><span class="keyword">WHERE</span> [条件];</span><br></pre></td></tr></table></figure><ul><li><p>解释说明：</p><ul><li><code>[视图名]</code>：指定要创建的视图的名称。</li><li><code>[列1], [列2], ...</code>：指定要包含在视图中的列名。</li><li><code>[表名]</code>：指定要从中提取数据的表名。</li><li><code>[条件]</code>：可选项，用于筛选特定的数据行。</li></ul></li><li><p>注意事项：</p><ul><li>方括号 <code>[ ]</code> 中的内容是需要替换为具体的值或表达式。</li><li>视图是从一个或多个基本表派生出来的虚拟表，其内容是基于查询的结果集。因此，在定义视图时，需要使用合适的 SELECT<br>语句来指定视图的内容。</li></ul></li></ul></li><li><p>建表模版</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> [表名] (</span><br><span class="line">    [列<span class="number">1</span>] [数据类型] [约束],</span><br><span class="line">    [列<span class="number">2</span>] [数据类型] [约束],</span><br><span class="line">    ...</span><br><span class="line">    [列N] [数据类型] [约束]</span><br><span class="line">);</span><br></pre></td></tr></table></figure><ul><li><p>解释说明：</p><ul><li><code>[表名]</code>：指定要创建的表的名称。</li><li><code>[列1], [列2], ..., [列N]</code>：指定要创建的列名。</li><li><code>[数据类型]</code>：指定每个列的数据类型，如 INT、VARCHAR、DATE 等。</li><li><code>[约束]</code>：可选项，用于指定列级别的约束条件，如 PRIMARY KEY、NOT NULL、UNIQUE 等。</li></ul></li><li><p>注意事项：</p><ul><li>方括号 <code>[ ]</code> 中的内容是需要替换为具体的值或表达式。</li><li>每个列定义需要包含列名和数据类型。</li><li>可以在每个列定义后面添加约束来进一步定义列的行为和限制。</li><li>可以根据需要在表定义的末尾添加其他选项，如存储引擎、字符集等。</li></ul></li></ul></li><li><p>创建角色模版</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> ROLE <span class="string">&#x27;角色名&#x27;</span>;</span><br></pre></td></tr></table></figure><ul><li><p>解释说明：</p><ul><li><code>&#39;角色名&#39;</code>：指定要创建的角色名称，角色名称用单引号括起来。</li></ul></li><li><p>注意事项：</p><ul><li>角色名称应遵循 MySQL 的命名规则，如不能包含特殊字符、空格等。</li><li>创建角色需要具有适当的权限，通常是 <code>CREATE ROLE</code> 权限。</li></ul></li></ul></li><li><p>角色赋权模版</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> 权限列表 <span class="keyword">TO</span> <span class="string">&#x27;角色名&#x27;</span>;</span><br></pre></td></tr></table></figure><ul><li><p>解释说明：</p><ul><li><code>权限列表</code>：指定要授予给角色的权限，可以是单个权限或多个权限，多个权限之间使用逗号分隔。</li><li><code>&#39;角色名&#39;</code>：指定要授予权限的角色名称，角色名称用单引号括起来。</li></ul></li><li><p>注意事项：</p><ul><li>角色和权限都应存在于数据库中。</li><li>授予权限需要具有适当的权限，通常是 <code>GRANT</code> 权限。</li></ul></li><li><p>使用上述模板，你可以为角色赋予指定的权限。将 <code>&#39;角色名&#39;</code> 替换为实际的角色名称，将 <code>权限列表</code><br>替换为要授予的具体权限即可。如果需要授予多个权限，可以在 <code>权限列表</code> 中使用逗号分隔不同的权限项。</p><blockquote><p>示例：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span>, <span class="keyword">INSERT</span>, <span class="keyword">UPDATE</span> <span class="keyword">ON</span> database.table <span class="keyword">TO</span> <span class="string">&#x27;角色名&#x27;</span>;</span><br></pre></td></tr></table></figure><p>上述示例将 SELECT、INSERT 和 UPDATE 权限授予给名为 <code>&#39;角色名&#39;</code> 的角色。你可以根据实际情况调整权限列表和角色名称。</p></blockquote></li></ul></li><li><p>授权模版</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> [权限列表] <span class="keyword">ON</span> [数据库].[表] <span class="keyword">TO</span> <span class="string">&#x27;[用户名]&#x27;</span>@<span class="string">&#x27;[主机]&#x27;</span> [<span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION];</span><br></pre></td></tr></table></figure><ul><li><p>解释说明：</p><ul><li><code>[权限列表]</code>：指定要授予的权限，可以是多个权限，用逗号分隔，如 SELECT, INSERT, UPDATE。</li><li><code>[数据库]</code>：指定要授予权限的数据库名称。如果要授予全局权限，可以使用通配符 <code>*</code>。</li><li><code>[表]</code>：可选项，指定要授予权限的表名。如果要授予数据库级别的权限，可以省略该部分。</li><li><code>&#39;[用户名]&#39;@&#39;[主机]&#39;</code><br>：指定要授予权限的用户和对应的主机。用户名和主机分别用单引号括起来。如果要授予全局权限，可以使用通配符 <code>%</code>。</li><li><code>WITH GRANT OPTION</code>：可选项，允许被授权的用户进一步授予该权限给其他用户。</li></ul></li><li><p>注意事项：</p><ul><li>方括号 <code>[ ]</code> 中的内容是需要替换为具体的值或表达式。</li><li>权限可以是诸如 SELECT、INSERT、UPDATE、DELETE 等数据库操作的关键字。</li><li>可以根据需要指定具体的数据库和表，或者使用通配符 <code>*</code> 表示所有数据库或表。</li><li>授权操作需要具有适当的权限，通常是 <code>GRANT OPTION</code> 权限。</li></ul></li></ul></li></ul><h2 id="E-R图"><a href="#E-R图" class="headerlink" title="E-R图"></a>E-R图</h2><h3 id="概念-2"><a href="#概念-2" class="headerlink" title="概念"></a>概念</h3><p>E-R图（实体-关系图）是一种用于数据建模的图形工具，用于描述现实世界中的实体、实体之间的关系以及实体属性的结构化图形化表示。它基于实体-关系模型，是一种高层次、抽象的表示方式，用于在数据库设计和开发过程中描述实体、关系和属性之间的概念和关联。</p><p>E-R图由实体、关系和属性组成，其中：</p><ul><li>实体（Entity）代表现实世界中具有独立存在和可识别的事物，如人、物、地点或概念。每个实体都有一个唯一的标识符（主键），并具有属性描述实体的特征。</li><li>关系（Relationship）表示实体之间的联系或关联。关系可以是一对一、一对多或多对多的关系，用于描述实体之间的交互和依赖。</li><li>属性（Attribute）是实体的特征或描述，用于存储实体的具体数据。属性可以是简单属性（如姓名、年龄）或复合属性（如地址，由街道、城市和邮编组成）。</li></ul><p>通过使用符号和连接线，E-R图提供了一种直观的方式来可视化和表示实体、关系和属性之间的结构和相互作用。它是数据库设计和规划的重要工具，有助于理解和沟通数据模型的概念，以便更好地设计和管理数据库系统。</p><h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><p>Student(<u>id</u>, name, gender)</p><p>Class(<u>cid</u>, name)</p><p>Teacher(<u>tid</u>, gender, name)</p><p><strong>我们使用<code>_</code>来表述一张数据表中的主键字段。</strong></p><p><strong>图中连接表与表的线条，应该是干净的，不应该有类似于分支的部分，应该与连接表与字段的线条一致。</strong></p><img no-lazy class="inline" src="/picture/E-R图.png" style="height:500px;"/>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 期末复习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>My first blog post</title>
      <link href="/2023/07/05/my-first-blog-post/"/>
      <url>/2023/07/05/my-first-blog-post/</url>
      
        <content type="html"><![CDATA[<h1 id="如何搭建一个属于自己的博客网站？"><a href="#如何搭建一个属于自己的博客网站？" class="headerlink" title="如何搭建一个属于自己的博客网站？"></a>如何搭建一个属于自己的博客网站？</h1><h2 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h2><p><code>今天早些的时候我在看Nginx的教程，那位youtuber就使用了Hexo搭建的博客进行反向代理测试，于是我就很感兴趣，便去了解了一下</code></p><div class="link-group"><div class="tagLink"><a class="link-card" title="30分钟Nginx入门教程 - YouTube" href="https://youtu.be/sCJcusORiE8"><span class="link-card-backdrop" style="background-image: url(https://pica.zhimg.com/80/v2-970dd5538f106dd6be064c4eafc01c36_1440w.webp)"></span><div class="left"><img src="https://pica.zhimg.com/80/v2-970dd5538f106dd6be064c4eafc01c36_1440w.webp" class="lazyload placeholder" data-srcset="https://pica.zhimg.com/80/v2-970dd5538f106dd6be064c4eafc01c36_1440w.webp" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp"/></div><div class="right"><p class="text">30分钟Nginx入门教程 - YouTube</p><p class="url">https://youtu.be/sCJcusORiE8</p></div></a></div></div><p>访问<a href="https://hexo.io/">Hexo</a>以了解更多内容。</p><p>我选择了一个自己蛮喜欢的主题。</p><p>我也修改了很多配置项，不过总的说还是非常容易理解的。</p><h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>这过程中最最最离谱的问题（对我来说）是：关于git push的问题，经常push不上去，所以我就排查了问题原因，试过了修改<code>/etc/hosts</code>的配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo bash -c &#x27;echo &quot;&lt;IP&gt; &lt;hostname&gt;&quot; &gt;&gt; /etc/hosts&#x27;</span><br></pre></td></tr></table></figure><p>也尝试了修改<code>http.version</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.version HTTP/1.1</span><br></pre></td></tr></table></figure><p>发现没有用，最后，我发现是代理的问题，因为在浏览器中打开GitHub没问题，但使用git的时候就<code>could&#39;t connect</code>，原因在于git默认不使用代理端口</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy 127.0.0.1:[port]</span><br><span class="line">git config --global https.proxy 127.0.0.1:[port]</span><br></pre></td></tr></table></figure><p><code>port</code>为代理端口号</p><p>这个问题就如此解决了。</p><h2 id="后言"><a href="#后言" class="headerlink" title="后言"></a>后言</h2><p>说实话，太累了写这东西。</p>]]></content>
      
      
      <categories>
          
          <category> Pointless small talk </category>
          
      </categories>
      
      
        <tags>
            
            <tag> one </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
